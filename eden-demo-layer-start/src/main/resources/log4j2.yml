Configuration:
  status: WARN
  monitorInterval: 30

  Properties:
    Property:
      - name: app.name
        value: $${spring:spring.application.name:-app}
      - name: app.profile
        value: $${spring:spring.profiles.active}
      - name: file.path
        value: $${spring:logging.file.path:-/var/logs}

  Appenders:
    Console:
      name: Console
      target: SYSTEM_OUT
      PatternLayout:
        pattern: "%d %-5level [${app.profile}] [%X{traceId}] [%t] %msg%n"
    RollingRandomAccessFile:
      - name: InfoLog
        ignoreExceptions: false
        immediateFlush: true
        fileName: ${file.path}/${app.name}-info.log
        filePattern: ${file.path}/${app.name}-info-%d{yyyy-MM-dd}-%i.log.gz
        ThresholdFilter:
          level: INFO
          onMatch: ACCEPT
          onMismatch: DENY
        PatternLayout:
          pattern: "%d %-5level [${app.profile}] [%X{traceId}] [%t] %msg%n"
        Policies:
          TimeBasedTriggeringPolicy:
            modulate: true
            interval: 1
          SizeBasedTriggeringPolicy:
            size: 20MB
        DefaultRolloverStrategy:
          max: 7
      - name: ErrorLog
        ignoreExceptions: false
        immediateFlush: true
        fileName: ${file.path}/${app.name}-error.log
        filePattern: ${file.path}/${app.name}-error-%d{yyyy-MM-dd}-%i.log.gz
        ThresholdFilter:
          level: ERROR
          onMatch: ACCEPT
          onMismatch: DENY
        PatternLayout:
          pattern: "%d %-5level [${app.profile}] [%X{traceId}] [%t] %msg%n"
        Policies:
          TimeBasedTriggeringPolicy:
            modulate: true
            interval: 1
          SizeBasedTriggeringPolicy:
            size: 20MB
        DefaultRolloverStrategy:
          max: 7
    CAT: # 自定义附加器
      name: CAT
      level: INFO
      maxLength: 200
      PatternLayout:
        pattern: "[%t] %msg%n"

  Loggers:
    Root:
      level: INFO
      includeLocation: false
      AppenderRef:
        - ref: Console
        - ref: InfoLog
        - ref: ErrorLog
        - ref: CAT # 默认关闭，开启后将日志发送到 CAT 监控平台
    AsyncLogger:
      - name: Console
        additivity: false
      - name: InfoLog
        additivity: false
      - name: ErrorLog
        additivity: true
    Logger:
      - name: org.ylzl.eden.demo
        level: INFO
        includeLocation: false
      - name: org.ylzl.eden
        level: DEBUG
        includeLocation: false
      - name: com.alibaba
        level: WARN
      - name: com.ibatis
        level: WARN
      - name: com.baomidou
        level: WARN
      - name: org.apache.dubbo
        level: WARN
      - name: org.apache.nacos
        level: WARN
      - name: org.apache.kafka
        level: WARN
      - name: org.apache.zookeeper
        level: WARN
      - name: org.hibernate.validator
        level: WARN
      - name: org.jboss.resteasy
        level: WARN
      - name: org.reflections.Reflections
        level: WARN
      - name: org.springframework
        level: ERROR
